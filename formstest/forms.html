<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Forms</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link href="forms.css" type="text/css" rel="stylesheet" />
</head>

<body>

  <section id="form">
    <div class="container">
      <div class="row">
        <div id="formContainer" class="col-md-4">
          <h2 id="title">Sign up for Free!</h2>
          <form id="myForm" method="post">
            <input class="form-control form-control-sm" type="text" placeholder="First Name*" name="firstName" /><br />
            <input class="form-control form-control-sm" type="text" placeholder="Last Name*" name="lastName" /><br />
            <label class="label"><input class="form-check-inline" type="radio" name="gender" value="male"/>Male</label>
            <label class="label"><input class="form-check-inline" type="radio" name="gender" value="female" />Female</label>
            <input class="form-control form-control-sm" type="email" placeholder="Email Address*" name="email" /><br />
            <input class="form-control form-control-sm" type="tel" placeholder="Telephone Number*" name="telephone" /><br />
            <input class="form-control form-control-sm" type="password" placeholder="Set a Password*" name="password1" /><br />
            <input class="form-control form-control-sm" type="password" placeholder="Confirm Password*" name="password2" /><br />

            <button class="btn btn-primary" type="submit">Sign Up</button>


          </form>

        </div>
      </div>
    </div>
  </section>

  <img class="gif" src="" alt="">

  <script>
    document.querySelector("#myForm").addEventListener("submit", function(event) {
      event.preventDefault();
      console.log('enter')
      var xhr = new XMLHttpRequest();
      var url = "http://localhost:3000/signUp";

      xhr.open("POST", url, true);
      xhr.setRequestHeader("Content-type", "application/json");
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200) {
          console.log(xhr.responseText);
          // var json = JSON.parse(xhr.responseText);
          // console.log(json.email + ", " + json.password);
        }
      };
      var data = JSON.stringify({
        "email": "hey@mail.com",
        "password": "101010"
      });

      console.log('opened')
      xhr.send(data);
      console.log('sent')

    });









    // (function () {
    // var xhr = new XMLHttpRequest(); //creating a new XMLHttpRequest
    // var url = "http://api.giphy.com/v1/gifs/search?q=funny+cat&api_key=dc6zaTOxFJmzC"; //assign the url to the url variable
    // xhr.onreadystatechange = function() {
    //     if (xhr.readyState == 4 && xhr.status == 200) {
    //       var giphyObj = JSON.parse(xhr.responseText);
    //       var gifDrop = document.querySelector(".gif");
    //       var link = giphyObj.data[1].images.downsized_medium.url;
    //       gifDrop.src = link;
    //       console.log(gifDrop.src);
    //     }
    // };
    // xhr.open("GET", url, true);
    // xhr.send();
    // })();
    //
    //     function element(id) {
    //       return document.querySelector(`#${id}`);
    //     }
    //     function checkStatus(xhr){
    //     return  xhr.status === 200
    //     }
    //
    //     element('foo').addEventListener('submit', function(event) {
    //       var xhr = new XMLHttpRequest();
    //
    //       xhr.addEventListener('load', function() {
    //         if (checkStatus(xhr)) {
    //           var response = JSON.parse(xhr.responseText);
    //           // ... do something with the response
    //         }
    //       });
    //
    //       xhr.open('GET', 'https://example.com/search?query=' + event.target[0].value);
    //       xhr.send();
    //     });
    //
    //     element('bar').addEventListener('click', function(event) {
    //       var xhr = new XMLHttpRequest();
    //
    //       xhr.addEventListener('load', function() {
    //         if (checkStatus(xhr)) {
    //           var response = JSON.parse(xhr.responseText);
    //           // ... do something with the response
    //         }
    //       });
    //
    //       var element = element('baz');
    //       xhr.open('GET', 'https://lulz.org/search?query=' + element.value);
    //       xhr.send();
    //     });
    //
  </script>

</body>

</html>
